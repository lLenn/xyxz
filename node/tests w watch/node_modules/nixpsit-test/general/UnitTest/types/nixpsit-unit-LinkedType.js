if(typeof require !== "undefined") {
	var TypeDefinition = require("./nixpsit-unit-TypeDefinition.js");
	var EndOfType = require("./nixpsit-unit-EndOfType.js");
}

(function() {
	LinkedType = function(pRequired, pCallback) {
		this.typeDefinition(pRequired);

		this.callback = pCallback;
	}
	
	LinkedType.prototype = Object.assign({}, TypeDefinition.prototype, {
		constructor: ArrayType,
		typeDefinition: TypeDefinition,
		
		getValue: function(pPointer, pTestObject) {
			if(pPointer === 0) {
				return this.callback.call(null, pTestObject.object); 
			} else {
				return new EndOfType();
			}
		},

		getLink: function(pTestObject) {
			if(this.pointer === 2 || this.pointer === 3) {
				return this.callback.call(null, pTestObject.object); 
			} else {
				return undefined;
			}
		}
	});
})()

if(typeof module !== "undefined") {
    module.exports = LinkedType;
}